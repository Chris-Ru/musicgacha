<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>...</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
</head>
<!-- Begin navigation fragments -->
<nav class="cnav navbar navbar-expand" th:fragment="header">
    <!-- <a href="/">
        <img src="/src/main/staticin/static/images/logo.png" th:src="@{/images/logo.png}" width="auto" height="50" class="d-inline-block align-center" alt="logo">
    </a> -->
    <a href="/" class="navbar-brand navtext">MusicGacha</a>

    <!-- Bootstrap menus -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <!--root menu -->
            <li class="nav-item active">
                <a class="nav-link navtext" href="/roll">Play</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link navtext" href="/inventory">Inventory</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link navtext" href="/howtoplay">How to Play</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link navtext" href="/about">About Us</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle navtext" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  More
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="navtext dropdown-item" href="https://zenxha.github.io/musicgacha/" target="_blank">GitHub Pages</a>
                  <a class="navtext dropdown-item" href="/random">Random Generation Test</a>
                  <a class="navtext dropdown-item" href="/song">Random Song</a>
                </div>
            </li>
            <li class="nav-item active">
                <a class="nav-link navtext" href="/all">All Characters</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle navtext" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Data
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="/database/person">SQL Person</a>
                    <a class="dropdown-item" href="/database/person/search">SQL Person Search</a>
                    <a class="dropdown-item" href="database/scrum">SQL Scrum</a>
                </div>
            </li>
        </ul>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item d-flex">
                <form class="d-flex" action="https://youtube.com/results" method="get">
                    <input class="form-control me-2" name="search_query" type="search" placeholder="Search"
                           aria-label="Search" style="border-radius: 10px 0 0 10px;">
                    <button class="btn btn-outline-error" type="submit" style="border-radius: 0 10px 10px 0;"><i class="fa fa-search"></i></button>
                </form>
            </li>
        </ul>
    </div>
    <script>
        // default color for switch

        console.log("yo")
        document.getElementById("scorelabel").textContent = "Social Credit Score: 0"
        document.getElementById("username").setAttribute('value', localStorage.getItem("username"));
        document.getElementById("currentscore").innerText = localStorage.getItem("score")
        function pushScore() {
            let score = localStorage.getItem("score")

            // let username = $('saveform').serializeArray()[0]
            const username = document.getElementById('username').value;
            localStorage.setItem("username", username)
            console.log(username)
            alert("Saved score of "+ score+" for "+username)
            $.post('/api/pushscore',
                {
                    username: username,
                    score: localStorage.getItem("score").toString()})
        }


        function updateScore() {
            let score = localStorage.getItem("score");
            document.getElementById("scorelabel").textContent = "Social Credit Score: " + score.toString();
        }

        setInterval(updateScore, 1000)
    </script>
</nav>
<!-- Begin navigation fragments -->
</body>
</html>